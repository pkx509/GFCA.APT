@{
    ViewBag.Title = "Budget Planing";
}
@using GFCA.APT.Domain.HTTP.Controls
@using Syncfusion.EJ2.Popups
@using Syncfusion.EJ2.Grids
@using Syncfusion.EJ2.Inputs
@using Syncfusion.EJ2

@section styles
{
    <style>
        .form-group.col-md-6 {
            width: 250px;
        }

        :-ms-fullscreen, .e-dialog {
            max-width: 552px;
        }

        @@media only screen and (max-width: 991px) {
            .e-dialog.e-control.e-popup {
                min-width: 300px !important;
            }
        }

        @@media only screen and (min-width: 992px) {
            .e-dialog.e-control.e-popup {
                /* min-width: 550px !important;*/
                min-width: 300px !important;
                min-height: 180px;
            }

            .e-bigger.e-dialog.e-control.e-popup,
            .e-bigger .e-dialog.e-control.e-popup {
                min-height: 496px;
            }
        }
    </style>
}
<h2>Budget Planing List</h2>



@section ContentPlaceholder
{
<form autocomplete="off" class="form-horizontal">
<div class="content-header">
    <div class="container-fluid">
        @*----------------- document header -----------------*@
        <div class="row mb-2">
            <div class="col col-lg-12 p-1">
                <div class="card card-info card-outline">
                    <div class="card-body">

                        <div>

                            <div data-alerts="alerts"
                                 data-titles='{"warning": "<em>Warning!</em>", "error": "<em>Error!</em>"}'
                                 data-ids="myid"
                                 data-fade="4000"
                                 data-usebullets="true"></div>

                            <div class="row justify-content-center">
                                <div class="col col-sm-12 col-lg-12">

                                    <div class="row">

                                        <div class="col col-sm-12 col-md-6 col-lg-3">
                                            <div class="form-group row">

                                                <label class="col col-lg-4 control-label text-right">
                                                    Company
                                                </label>
                                                <div class="col col-lg-8">
                                                    @Html.EJS().TextBox("txt-company").Placeholder("Company name").CssClass("mandatory").Render()
                                                </div>

                                            </div>
                                        </div>

                                        <div class="col col-sm-12 col-md-6 col-lg-3">
                                            <div class="form-group row">

                                                <label class="col col-lg-4 control-label text-right">
                                                    Document No
                                                </label>
                                                <div class="col col-lg-8">
                                                    @Html.EJS().TextBox("txt-document-no").Value("BP-20210901-00001").Placeholder("[Auto generate]").Render()
                                                </div>

                                            </div>
                                        </div>

                                        <div class="col col-sm-12 col-md-6 col-lg-3">
                                            <div class="form-group row">

                                                <label class="col col-lg-4 control-label text-right">
                                                    Version
                                                </label>
                                                <div class="col col-lg-8">
                                                    @Html.EJS().TextBox("txt-version").Render()
                                                </div>

                                            </div>
                                        </div>

                                        <div class="col col-sm-12 col-md-6 col-lg-3">
                                            <div class="form-group row">

                                                <label class="col col-lg-4 control-label text-right">
                                                    Status
                                                </label>
                                                <div class="col col-lg-8">
                                                    @Html.EJS().TextBox("txt-status").Value("Draft").Render()
                                                </div>

                                            </div>
                                        </div>

                                    </div>

                                </div>

                            </div>


                        </div>

                    </div>

                </div>
            </div>
        </div>


        @*----------------- bugdet planing header -----------------*@
        <div class="row mb-2">
            <div class="col col-lg p-1">
                <div class="card card-info card-outline">
                    <div class="card-header">
                        <h6>Budget planing by</h6>
                    </div>
                    <div class="card-body">
                        <div class="row justify-content-center">
                            <div class="col col-sm-12 col-lg-10">

                                <div class="row">

                                    <div class="col col-sm-12 col-lg-4">
                                        <div class="form-group row">
                                            <label class="col col-lg-4 control-label text-right">
                                                Client
                                            </label>
                                            <div class="col col-lg-8">
                                                @(Html.EJS().ComboBox("cmb-client")
                                                    .Placeholder("-- Select --")
                                                    .Autofill(true)
                                                    .DataSource(o =>
                                                    {
                                                        o.Url("/api/Selection/GetClient")
                                                        .CrossDomain(false)
                                                        .Adaptor("UrlAdaptor");
                                                    })
                                                    .Enabled(true)
                                                    .CssClass("mandatory")
                                                    .Fields(new Syncfusion.EJ2.DropDowns.ComboBoxFieldSettings { Text = "Text", Value = "Value" })
                                                    .Render())
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col col-sm-12 col-lg-4">
                                        <div class="form-group row">
                                            <label class="col col-lg-4 control-label text-right">
                                                Customer
                                            </label>
                                            <div class="col col-lg-8">
                                                @(Html.EJS().ComboBox("cmb-customer")
                                                    .Placeholder("-- Select --")
                                                    .Autofill(true)
                                                    .DataSource(o =>
                                                    {
                                                        o.Url("/api/Selection/GetCustomer")
                                                        .CrossDomain(false)
                                                        .Adaptor("UrlAdaptor");
                                                    })
                                                    .Enabled(true)
                                                    .CssClass("mandatory")
                                                    .Fields(new Syncfusion.EJ2.DropDowns.ComboBoxFieldSettings { Text = "Text", Value = "Value" })
                                                    .Render())
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col col-sm-12 col-lg-4">
                                        <div class="form-group row">
                                            <label class="col col-lg-4 control-label text-right">
                                                Requester
                                            </label>
                                            <div class="col col-lg-8">
                                                @(Html.EJS().ComboBox("cmb-requester")
                                                    .Placeholder("-- Select --")
                                                    .Autofill(true)
                                                    .DataSource(o =>
                                                    {
                                                        o.Url("/api/Selection/GetEmployee/false")
                                                        .CrossDomain(false)
                                                        .Adaptor("UrlAdaptor");
                                                    })
                                                    .Enabled(true)
                                                    .CssClass("mandatory")
                                                    .Fields(new Syncfusion.EJ2.DropDowns.ComboBoxFieldSettings { Text = "Text", Value = "Value" })
                                                    .Render())
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col col-sm-12 col-lg-4">
                                        <div class="form-group row">
                                            <label class="col col-lg-4 control-label text-right">
                                                Position
                                            </label>
                                            <div class="col col-lg-8">
                                                @(Html.EJS().ComboBox("cmb-emp-org")
                                                    .Placeholder("-- Select --")
                                                    .Autofill(true)
                                                    .DataSource(o =>
                                                    {
                                                        o.Url("/api/Selection/GetOrganization")
                                                        .CrossDomain(false)
                                                        .Adaptor("UrlAdaptor");
                                                    })
                                                    .Enabled(true)
                                                    //.Change("page.cmbPositionChange")
                                                    .CssClass("mandatory")
                                                    .Fields(new Syncfusion.EJ2.DropDowns.ComboBoxFieldSettings { Text = "Text", Value = "Value" })
                                                    .Render())
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col col-sm-12 col-lg-4">
                                    </div>
                                </div>

                            </div>

                        </div>
                    </div>

                </div>
            </div>
        </div>

        @*----------------- bugdet planing detail -----------------*@
        <div class="row mb-2">
            <div class="col col-lg-12 p-1">
                <div class="card card-info card-outline">
                    <div class="card-header">
                        <h5>Budget planing</h5>
                    </div>
                    <div class="card-body">

                        <div class="row">

                            <div class="col col-sm-12 col-lg-4">
                                <div class="form-group row">
                                    <label for="txt-sale" class="col col-lg-4 control-label text-right">
                                        Total Sale Target (THB)
                                    </label>
                                    <div class="col col-lg-8">
                                        @(Html.EJS().TextBox("txt-sale")
                                                    .Placeholder("0.00")
                                                    .Enabled(true)
                                                    .CssClass("mandatory")
                                                    .Render())
                                    </div>
                                </div>
                            </div>
                            <div class="col col-sm-12 col-lg-4">
                                <div class="form-group row">
                                    <label for="txt-invest" class="col col-lg-4 control-label text-right">
                                        Total Invesment (THB)
                                    </label>
                                    <div class="col col-lg-8">
                                        @(Html.EJS().TextBox("txt-invest")
                                                    .Placeholder("0.00")
                                                    .Enabled(true)
                                                    .CssClass("mandatory")
                                                    .Render())
                                    </div>
                                </div>
                            </div>
                            <div class="col col-sm-12 col-lg-4">
                                <div class="form-group row">
                                    <label for="txt-ratio" class="col col-lg-4 control-label text-right">
                                        Sale vs Invesments (%)
                                    </label>
                                    <div class="col col-lg-8">
                                        @(Html.EJS().TextBox("txt-ratio")
                                                    .Placeholder("0.00")
                                                    .Enabled(true)
                                                    .CssClass("mandatory")
                                                    .Render())
                                    </div>
                                </div>
                            </div>

                        </div>

                        <div class="row">
                            <div class="col-12 col-sm-12">
                                <div class="card card-info card-outline card-tabs">
                                    <div class="card-header p-0 pt-1 border-bottom-0">
                                        <ul class="nav nav-tabs" id="custom-tabs-three-tab" role="tablist">
                                            <li class="nav-item">
                                                <a class="nav-link active" id="custom-tabs-three-home-tab" data-toggle="pill" href="#custom-tabs-three-home" role="tab" aria-controls="custom-tabs-three-home" aria-selected="true">Sale</a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link" id="custom-tabs-three-profile-tab" data-toggle="pill" href="#custom-tabs-three-profile" role="tab" aria-controls="custom-tabs-three-profile" aria-selected="false">Invesment</a>
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="card-body">


                                        <div class="row">

                                            <div class="tab-content" id="custom-tabs-three-tabContent">
                                                <div class="tab-pane fade show active" id="custom-tabs-three-home" role="tabpanel" aria-labelledby="custom-tabs-three-home-tab">

                                                    @(Html.EJS()
                                      .Grid("grdBudgetPlanSale")
                                      .Height("450")
                                      //.DataSource(ds =>
                                      //{
                                      //    ds
                                      //    .Url(@Url.Action("UrlDataSource/{id}", "FixedContract", new { Area = "Transactions" }))
                                      //    .Adaptor("UrlAdaptor")
                                      //    ;
                                      //})
                                      .ShowColumnMenu(false).AllowSorting()
                                      .AllowPaging(true).PageSettings(page => page.PageCount(5))
                                      .AllowFiltering(true).FilterSettings(filter => filter.Type(FilterType.Excel))
                                      .AllowExcelExport()
                                      .Toolbar(new List<object>() {
                                          new { id ="toolbar_edit", text = "Edit", prefixIcon = "e-icons e-edit" },
                                          new { id ="toolbar_del", text = "Delete", prefixIcon = "e-icons e-delete" },
                                          new { id ="toolbar_excel", text = "Excel", prefixIcon = "e-icons e-excelexport" },
                                          //new { text = "Print", prefixIcon = "e-icons e-print" },
                                      })

                                      .EditSettings(edit =>
                                      {
                                          edit
                                          .AllowEditOnDblClick(false)
                                          .AllowAdding(true)
                                          .AllowEditing(true)
                                          .AllowDeleting(true).ShowConfirmDialog(true).ShowDeleteConfirmDialog(true)
                                          .Mode(EditMode.Dialog)
                                          //.Template("#dialogtemplate")
                                          ;
                                      })
                                      .Columns(col =>
                                      {

                                          col.Field("Brand").HeaderText("Channel").HeaderTextAlign(TextAlign.Center).TextAlign(TextAlign.Center).Add();
                                          col.Field("Trade_Activity").HeaderText("Customer").HeaderTextAlign(TextAlign.Center).TextAlign(TextAlign.Left).Add();
                                          col.Field("Category").HeaderText("Brand").HeaderTextAlign(TextAlign.Center).TextAlign(TextAlign.Left).Add();
                                          col.Field("Date_Reference").HeaderText("Actual Last Year (THB)").HeaderTextAlign(TextAlign.Center).TextAlign(TextAlign.Left).Add();
                                          col.Field("Size").HeaderText("Type").HeaderTextAlign(TextAlign.Center).TextAlign(TextAlign.Left).Add();
                                          col.Field("Pack").HeaderText("Value (THB / %)").HeaderTextAlign(TextAlign.Center).TextAlign(TextAlign.Left).Add();
                                          col.Field("Cost_center").HeaderText("Target Current Year (THB)").HeaderTextAlign(TextAlign.Center).TextAlign(TextAlign.Left).Add();
                                          col.Field("Remark").HeaderText("% Contribution").HeaderTextAlign(TextAlign.Center).TextAlign(TextAlign.Left).Add();
                                          col.Field("Remark").HeaderText("Ratio (%)").HeaderTextAlign(TextAlign.Center).TextAlign(TextAlign.Left).Add();
                                      })
                                      .Render())


                                                </div>
                                                <div class="tab-pane fade" id="custom-tabs-three-profile" role="tabpanel" aria-labelledby="custom-tabs-three-profile-tab">

                                                    @(Html.EJS()
                                      .Grid("grdBudgetPlanInvestment")
                                      .Height("450")
                                      //.DataSource(ds =>
                                      //{
                                      //    ds
                                      //    .Url(@Url.Action("UrlDataSource/{id}", "FixedContract", new { Area = "Transactions" }))
                                      //    .Adaptor("UrlAdaptor")
                                      //    ;
                                      //})
                                      .ShowColumnMenu(false).AllowSorting()
                                      .AllowPaging(true).PageSettings(page => page.PageCount(5))
                                      .AllowFiltering(true).FilterSettings(filter => filter.Type(FilterType.Excel))
                                      .AllowExcelExport()
                                      .Toolbar(new List<object>() {
                                          new { id ="toolbar_edit", text = "Edit", prefixIcon = "e-icons e-edit" },
                                          new { id ="toolbar_del", text = "Delete", prefixIcon = "e-icons e-delete" },
                                          new { id ="toolbar_excel", text = "Excel", prefixIcon = "e-icons e-excelexport" },
                                          //new { text = "Print", prefixIcon = "e-icons e-print" },
                                      })

                                      .EditSettings(edit =>
                                      {
                                          edit
                                          .AllowEditOnDblClick(false)
                                          .AllowAdding(true)
                                          .AllowEditing(true)
                                          .AllowDeleting(true).ShowConfirmDialog(true).ShowDeleteConfirmDialog(true)
                                          .Mode(EditMode.Dialog)
                                          //.Template("#dialogtemplate")
                                          ;
                                      })
                                      .Columns(col =>
                                      {

                                          col.Field("Brand").HeaderText("Channel").HeaderTextAlign(TextAlign.Center).TextAlign(TextAlign.Center).Add();
                                          col.Field("Trade_Activity").HeaderText("Customer").HeaderTextAlign(TextAlign.Center).TextAlign(TextAlign.Left).Add();
                                          col.Field("Category").HeaderText("Brand").HeaderTextAlign(TextAlign.Center).TextAlign(TextAlign.Left).Add();
                                          col.Field("Date_Reference").HeaderText("Trade Invesment Category").HeaderTextAlign(TextAlign.Center).TextAlign(TextAlign.Left).Add();
                                          col.Field("Size").HeaderText("Cost Center").HeaderTextAlign(TextAlign.Center).TextAlign(TextAlign.Left).Add();
                                          col.Field("Pack").HeaderText("Source of Fund").HeaderTextAlign(TextAlign.Center).TextAlign(TextAlign.Left).Add();
                                          col.Field("Cost_center").HeaderText("Actual Last Year (THB)").HeaderTextAlign(TextAlign.Center).TextAlign(TextAlign.Left).Add();
                                          col.Field("Remark").HeaderText("Type").HeaderTextAlign(TextAlign.Center).TextAlign(TextAlign.Left).Add();
                                          col.Field("Remark").HeaderText("Value (THB / %)").HeaderTextAlign(TextAlign.Center).TextAlign(TextAlign.Left).Add();
                                          col.Field("Remark").HeaderText("Target Current Year (THB)").HeaderTextAlign(TextAlign.Center).TextAlign(TextAlign.Left).Add();
                                          col.Field("Remark").HeaderText("% Contribution").HeaderTextAlign(TextAlign.Center).TextAlign(TextAlign.Left).Add();
                                      })
                                      .Render())

                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                    <!-- /.card -->
                                </div>
                            </div>
                        </div>

                        <div class="row">

                        </div>
                    </div>

                    <div class="card-footer">
                        <div>

                            <div class="row">
                                <div class="col col-sm-12 col-lg-3 offset-lg-9">

                                    <!-- Confirm State -->
                                    <button class="btn btn-primary">Save</button>
                                    <button class="btn btn-default">Cancel</button>

                                </div>
                            </div>

                        </div>
                    </div>

                </div>
            </div>
        </div>

        <div class="row mb-2">
            <div class="col col-lg-12 p-1">
                <div class="card card-info card-outline">
                    <div class="card-header">
                        <h5>Approval (Display when status approval)</h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col col-lg-9">
                                <div class="form-group row">
                                    <textarea name="des" cols="2" rows="5" placeholder="Comment" class="e-control e-textbox e-lib e-input"></textarea>
                                </div>
                            </div>
                            <div class="col col-lg-3">
                                <div class="form-group row">

                                    <!-- Approval State -->
                                    <button class="btn btn-primary">Approve</button>
                                    <button class="btn btn-danger">Reject</button>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row mb-2">
            <div class="col col-lg-12 p-1">
                <div class="card card-info card-outline">
                    <div class="card-header">
                        <h5>Reviewer (Display when status accounting review)</h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col col-lg-9">
                                <div class="form-group row">
                                    <textarea name="des" cols="2" rows="5" placeholder="Comment" class="e-control e-textbox e-lib e-input"></textarea>
                                </div>
                            </div>
                            <div class="col col-lg-3">
                                <div class="form-group row">

                                    <!-- Review State -->
                                    <button class="btn btn-info">Review</button>
                                    <button class="btn btn-success">Commit</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        @*----------------- bugdet planing footer -----------------*@
        <div class="row mb-2">
            <div class="col col-lg-12 p-1">
                <div class="card card-info card-outline">
                    <div class="card-header">
                        <h5>Audit &amp; History</h5>
                    </div>
                    <div class="card-body">

                        <div>

                            <!-- Main node for this component -->
                            <div class="timeline">
                                <!-- Timeline time label -->
                                <div class="time-label">
                                    <span class="bg-gradient-gray">History</span>
                                </div>
                                <div>
                                    <!-- Before each timeline item corresponds to one icon on the left scale -->
                                    <i class="fas fa-envelope bg-blue"></i>
                                    <!-- Timeline item -->
                                    <div class="timeline-item">
                                        <!-- Time -->
                                        <span class="time"><i class="fas fa-clock"></i> 21/08/2021 12:05</span>
                                        <!-- Header. Optional -->
                                        <h3 class="timeline-header"><a href="#">Panupong K [Sale Team A]</a> has submited request</h3>
                                        <!-- Body -->
                                        <div class="timeline-body">
                                            Fixed contract no 1234556789 has been created. Cocomax at Tesco lotus pattanakarn Rd.
                                        </div>
                                    </div>
                                </div>

                                <div>
                                    <!-- Before each timeline item corresponds to one icon on the left scale -->
                                    <i class="far fa-check-circle bg-green"></i>
                                    <!-- Timeline item -->
                                    <div class="timeline-item">
                                        <!-- Time -->
                                        <span class="time"><i class="fas fa-clock"></i> 22/08/2021 12:05</span>
                                        <!-- Header. Optional -->
                                        <h3 class="timeline-header"><a href="#">Panupong K [Sale Manager]</a> has approved on SM Approval Process</h3>
                                        <!-- Body -->
                                        <div class="timeline-body">
                                            It's very good. too fast
                                        </div>
                                    </div>
                                </div>

                                <div>
                                    <!-- Before each timeline item corresponds to one icon on the left scale -->
                                    <i class="fas fa-undo-alt bg-gradient-gray"></i>
                                    <!-- Timeline item -->
                                    <div class="timeline-item">
                                        <!-- Time -->
                                        <span class="time"><i class="fas fa-clock"></i> 23/08/2021 12:05</span>
                                        <!-- Header. Optional -->
                                        <h3 class="timeline-header"><a href="#">Panupong K [General Manager]</a> has rejected on GM Approval Process</h3>
                                        <!-- Body -->
                                        <div class="timeline-body">
                                            It's very good. too fast
                                        </div>
                                    </div>
                                </div>

                                <div>
                                    <!-- Before each timeline item corresponds to one icon on the left scale -->
                                    <i class="fas fa-power-off bg-gradient-red"></i>
                                    <!-- Timeline item -->
                                    <div class="timeline-item">
                                        <!-- Time -->
                                        <span class="time"><i class="fas fa-clock"></i> 24/08/2021 12:05</span>
                                        <!-- Header. Optional -->
                                        <h3 class="timeline-header"><a href="#">Panupong K [Chief Executive Officer]</a> has cancelled on CEO Approval Process</h3>
                                        <!-- Body -->
                                        <div class="timeline-body">
                                            It's cool
                                        </div>
                                    </div>
                                </div>

                                <div>
                                    <!-- Before each timeline item corresponds to one icon on the left scale -->
                                    <i class="fas fa-search-dollar bg-gradient-yellow"></i>
                                    <!-- Timeline item -->
                                    <div class="timeline-item">
                                        <!-- Time -->
                                        <span class="time"><i class="fas fa-clock"></i> 24/08/2021 12:05</span>
                                        <!-- Header. Optional -->
                                        <h3 class="timeline-header"><a href="#">Panupong K [Accountant]</a> has committed on Accountant Reviewer Process</h3>
                                        <!-- Body -->
                                        <div class="timeline-body">
                                            It's very good. too fast
                                        </div>
                                    </div>
                                </div>

                                <!-- The last icon means the story is complete -->
                                <!--
                            <div>
                                <i class="fas fa-clock bg-gray"></i>
                            </div>
                            -->
                                <div>
                                    <i class="fas fa-star bg-gradient-blue" title="Completed"></i>
                                </div>

                            </div>

                        </div>

                    </div>

                </div>
            </div>
        </div>

    </div>
</div>
</form>
}


@section scripts
{

    @Scripts.Render("~/Scripts/transactions/fixedContract.js")

}
